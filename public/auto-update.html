<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auto-Update Stock Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        .pulse-animation {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .spin-animation {
            animation: spin 2s linear infinite;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-purple-50 to-blue-50 min-h-screen flex items-center justify-center p-4">
    <div class="max-w-2xl w-full bg-white rounded-2xl shadow-2xl p-8">
        <!-- Header -->
        <div class="text-center mb-8">
            <div class="inline-block bg-gradient-to-r from-purple-600 to-blue-600 rounded-full p-4 mb-4">
                <i class="fas fa-robot text-white text-4xl"></i>
            </div>
            <h1 class="text-3xl font-bold text-gray-800 mb-2">
                Auto-Update Dashboard
            </h1>
            <p class="text-gray-600">
                Automatically updating your stock dashboard...
            </p>
        </div>

        <!-- Status Section -->
        <div id="statusSection" class="space-y-6">
            <!-- Step 1: Initiating -->
            <div id="step1" class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded">
                <div class="flex items-center">
                    <i class="fas fa-spinner spin-animation text-blue-600 text-2xl mr-3"></i>
                    <div>
                        <h3 class="font-bold text-gray-800">Step 1: Initiating Update</h3>
                        <p class="text-sm text-gray-600">Preparing to trigger AI update command...</p>
                    </div>
                </div>
            </div>

            <!-- Step 2: Sending Command -->
            <div id="step2" class="bg-gray-100 border-l-4 border-gray-300 p-4 rounded opacity-50">
                <div class="flex items-center">
                    <i class="fas fa-paper-plane text-gray-400 text-2xl mr-3"></i>
                    <div>
                        <h3 class="font-bold text-gray-800">Step 2: Sending Command</h3>
                        <p class="text-sm text-gray-600">Triggering: "Update the stock dashboard with latest data"</p>
                    </div>
                </div>
            </div>

            <!-- Step 3: AI Processing -->
            <div id="step3" class="bg-gray-100 border-l-4 border-gray-300 p-4 rounded opacity-50">
                <div class="flex items-center">
                    <i class="fas fa-cog text-gray-400 text-2xl mr-3"></i>
                    <div>
                        <h3 class="font-bold text-gray-800">Step 3: AI Processing</h3>
                        <p class="text-sm text-gray-600">AI is fetching latest data (2-3 minutes)...</p>
                    </div>
                </div>
            </div>

            <!-- Step 4: Complete -->
            <div id="step4" class="bg-gray-100 border-l-4 border-gray-300 p-4 rounded opacity-50">
                <div class="flex items-center">
                    <i class="fas fa-check-circle text-gray-400 text-2xl mr-3"></i>
                    <div>
                        <h3 class="font-bold text-gray-800">Step 4: Update Complete</h3>
                        <p class="text-sm text-gray-600">Dashboard refreshed with latest data</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Progress Bar -->
        <div class="mt-8">
            <div class="bg-gray-200 rounded-full h-3 overflow-hidden">
                <div id="progressBar" class="bg-gradient-to-r from-purple-600 to-blue-600 h-full transition-all duration-1000 ease-out" style="width: 0%"></div>
            </div>
            <p id="progressText" class="text-center text-sm text-gray-600 mt-2">Initializing... 0%</p>
        </div>

        <!-- Info Box -->
        <div class="mt-8 bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 rounded-lg p-4">
            <div class="flex items-start">
                <i class="fas fa-info-circle text-yellow-600 text-xl mr-3 mt-1"></i>
                <div class="text-sm text-gray-700">
                    <p class="font-semibold mb-1">How This Works:</p>
                    <p>This page automatically sends the update command to the AI. The AI will:</p>
                    <ul class="list-disc list-inside mt-2 space-y-1">
                        <li>Search for latest NSE F&O breakout stocks</li>
                        <li>Get fresh brokerage recommendations</li>
                        <li>Fetch Twitter & Reddit sentiment</li>
                        <li>Update market news headlines</li>
                        <li>Rebuild and restart the dashboard</li>
                    </ul>
                    <p class="mt-2 font-semibold">‚è±Ô∏è Total time: 2-3 minutes</p>
                </div>
            </div>
        </div>

        <!-- Manual Options -->
        <div class="mt-8 space-y-3">
            <button id="manualTrigger" onclick="triggerManualUpdate()" 
                    class="w-full bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white font-semibold py-3 px-6 rounded-lg transition-all shadow-lg hover:shadow-xl">
                <i class="fas fa-redo mr-2"></i>
                Trigger Update Manually
            </button>
            
            <a href="/" 
               class="block w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition-all shadow-lg hover:shadow-xl text-center">
                <i class="fas fa-chart-line mr-2"></i>
                Go to Dashboard
            </a>

            <button onclick="window.open('https://www.genspark.ai', '_blank')" 
                    class="w-full bg-gray-600 hover:bg-gray-700 text-white font-semibold py-3 px-6 rounded-lg transition-all shadow-lg hover:shadow-xl">
                <i class="fas fa-external-link-alt mr-2"></i>
                Open GenSpark AI Chat
            </button>
        </div>

        <!-- Instructions for Automation -->
        <div class="mt-8 border-t pt-6">
            <h3 class="font-bold text-gray-800 mb-3 flex items-center">
                <i class="fas fa-clock text-purple-600 mr-2"></i>
                Schedule Automatic Updates
            </h3>
            <div class="bg-gray-50 rounded-lg p-4 text-sm">
                <p class="text-gray-700 mb-3"><strong>Bookmark this page:</strong></p>
                <div class="bg-white rounded p-3 mb-3 font-mono text-xs break-all border">
                    https://3000-icgc5fj3ctx0aeqev243p-18e660f9.sandbox.novita.ai/auto-update.html
                </div>
                <p class="text-gray-700 mb-2"><strong>Then set up a scheduled task:</strong></p>
                <ul class="list-disc list-inside space-y-1 text-gray-600">
                    <li><strong>Windows:</strong> Task Scheduler to open this URL at 9:30 AM</li>
                    <li><strong>Mac:</strong> Automator + Calendar to open URL</li>
                    <li><strong>Phone:</strong> Set alarm + open this bookmark</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        // Configuration
        const GENSPARK_CHAT_URL = 'https://www.genspark.ai';
        const UPDATE_COMMAND = 'Update the stock dashboard with latest data';
        
        // Auto-trigger on page load
        let currentStep = 1;
        let progressInterval;

        function updateStep(step) {
            // Update visual steps
            for (let i = 1; i <= 4; i++) {
                const stepEl = document.getElementById(`step${i}`);
                if (i < step) {
                    // Completed step
                    stepEl.className = 'bg-green-50 border-l-4 border-green-500 p-4 rounded';
                    stepEl.querySelector('i').className = 'fas fa-check-circle text-green-600 text-2xl mr-3';
                } else if (i === step) {
                    // Current step
                    stepEl.className = 'bg-blue-50 border-l-4 border-blue-500 p-4 rounded pulse-animation';
                    stepEl.querySelector('i').className = 'fas fa-spinner spin-animation text-blue-600 text-2xl mr-3';
                } else {
                    // Future step
                    stepEl.className = 'bg-gray-100 border-l-4 border-gray-300 p-4 rounded opacity-50';
                }
            }
        }

        function updateProgress(percent, text) {
            document.getElementById('progressBar').style.width = percent + '%';
            document.getElementById('progressText').textContent = text;
        }

        function triggerManualUpdate() {
            // Copy command to clipboard
            navigator.clipboard.writeText(UPDATE_COMMAND).then(() => {
                alert('‚úÖ Command copied to clipboard!\n\n"' + UPDATE_COMMAND + '"\n\nNow opening GenSpark AI...\nPaste the command and send it.');
                window.open(GENSPARK_CHAT_URL, '_blank');
            }).catch(() => {
                alert('üìã Please copy this command:\n\n"' + UPDATE_COMMAND + '"\n\nThen send it to GenSpark AI.');
                window.open(GENSPARK_CHAT_URL, '_blank');
            });
        }

        function showInstructions() {
            const instruction = `
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë           AUTO-UPDATE INSTRUCTIONS                          ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù

‚ö†Ô∏è IMPORTANT: This page cannot automatically send messages
to GenSpark AI due to browser security restrictions.

‚úÖ WHAT YOU NEED TO DO:

1. The command has been copied to your clipboard:
   "${UPDATE_COMMAND}"

2. GenSpark AI will open in a new tab

3. PASTE the command into the chat and press SEND

4. Wait 2-3 minutes for the AI to complete the update

5. Return here or refresh your dashboard

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

üí° TIP: Bookmark this page and open it daily at:
   - 9:30 AM (market open)
   - 2:00 PM (mid-day)
   - 4:30 PM (market close)

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            `;
            
            console.log(instruction);
            
            // Show the alert with instructions
            alert(instruction);
        }

        // Auto-start when page loads
        window.addEventListener('DOMContentLoaded', function() {
            // Step 1: Initiating (0-25%)
            setTimeout(() => {
                updateProgress(25, 'Step 1: Preparing command... 25%');
                updateStep(2);
            }, 1000);

            // Step 2: Copy command and show instructions (25-50%)
            setTimeout(() => {
                updateProgress(50, 'Step 2: Copying command to clipboard... 50%');
                
                // Try to copy command to clipboard
                navigator.clipboard.writeText(UPDATE_COMMAND).then(() => {
                    console.log('‚úÖ Command copied to clipboard:', UPDATE_COMMAND);
                }).catch(err => {
                    console.log('‚ö†Ô∏è Could not copy to clipboard automatically');
                });
                
                updateStep(3);
            }, 2000);

            // Step 3: Show instructions and open AI (50-75%)
            setTimeout(() => {
                updateProgress(75, 'Step 3: Opening GenSpark AI... 75%');
                
                // Show instructions
                showInstructions();
                
                // Open GenSpark AI in new tab
                window.open(GENSPARK_CHAT_URL, '_blank');
                
            }, 3000);

            // Step 4: Waiting for user to complete (75-100%)
            setTimeout(() => {
                updateProgress(100, 'Step 4: Waiting for you to send command in GenSpark AI... 100%');
                updateStep(4);
                
                // Change step 4 to waiting state
                const step4 = document.getElementById('step4');
                step4.className = 'bg-yellow-50 border-l-4 border-yellow-500 p-4 rounded';
                step4.querySelector('i').className = 'fas fa-hourglass-half pulse-animation text-yellow-600 text-2xl mr-3';
                step4.querySelector('h3').textContent = 'Step 4: Your Turn!';
                step4.querySelector('p').textContent = 'Paste the command in GenSpark AI and send. Then wait 2-3 minutes.';
            }, 4000);
        });
    </script>
</body>
</html>
